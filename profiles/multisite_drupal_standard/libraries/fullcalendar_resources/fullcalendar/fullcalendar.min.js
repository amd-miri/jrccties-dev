/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Mon Jan 14 11:05:49 2013 -0800

*/
(function(t,ra){function Bb(a){t.extend(true,pb,a)}function cc(a,b,l){function e(g){if(H){p();F();qa();W(g)}else m()}function m(){da=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");H=t("<div class='fc-content' style='position:relative'/>").prependTo(a);n=new dc(ea,b);(I=n.render())&&a.prepend(I);G(b.defaultView);t(window).resize(la);s()||r()}function r(){setTimeout(function(){!x.start&&s()&&W()},0)}function A(){t(window).unbind("resize",la);n.destroy();
H.remove();a.removeClass("fc fc-rtl ui-widget")}function k(){return y.offsetWidth!==0}function s(){return t("body")[0].offsetWidth!==0}function G(g){if(!x||g!=x.name){i++;sa();var q=x,O;if(q){(q.beforeHide||Tb)();qb(H,H.height());q.element.hide()}else qb(H,1);H.css("overflow","hidden");if(x=Y[g])x.element.show();else x=Y[g]=new Xa[g](O=D=t("<div class='fc-view fc-view-"+g+"' style='position:absolute'/>").appendTo(H),ea);q&&n.deactivateButton(q.name);n.activateButton(g);W();H.css("overflow","");q&&
qb(H,1);O||(x.afterShow||Tb)();i--}}function W(g){if(k()){i++;sa();B===ra&&p();var q=false;if(!x.start||g||h<x.start||h>=x.end){x.render(h,g||0);Z(true);q=true}else if(x.sizeDirty){x.clearEvents();Z();q=true}else if(x.eventsDirty){x.clearEvents();q=true}x.sizeDirty=false;x.eventsDirty=false;ma(q);fa=a.outerWidth();n.updateTitle(x.title);g=new Date;g>=x.start&&g<x.end?n.disableButton("today"):n.enableButton("today");i--;x.trigger("viewDisplay",y)}}function U(){F();if(k()){p();Z();sa();x.clearEvents();
x.renderEvents(v);x.sizeDirty=false}}function F(){t.each(Y,function(g,q){q.sizeDirty=true})}function p(){B=b.contentHeight?b.contentHeight:b.height?b.height-(I?I.height():0)-db(H):Math.round(H.width()/Math.max(b.aspectRatio,0.5))}function Z(g){i++;x.setHeight(B,g);if(D){D.css("position","relative");D=null}x.setWidth(H.width(),g);i--}function la(){if(!i)if(x.start){var g=++f;setTimeout(function(){if(g==f&&!i&&k())if(fa!=(fa=a.outerWidth())){i++;U();x.trigger("windowResize",y);i--}},200)}else r()}function ma(g){if(!b.lazyFetching||
Ba(x.visStart,x.visEnd))wa();else g&&na()}function wa(){S(x.visStart,x.visEnd)}function za(g){v=g;na()}function pa(g){na(g)}function na(g){qa();if(k()){x.clearEvents();x.renderEvents(v,g);x.eventsDirty=false}}function qa(){t.each(Y,function(g,q){q.eventsDirty=true})}function Aa(g,q,O){x.select(g,q,O===ra?true:O)}function sa(){x&&x.unselect()}function $(){W(-1)}function ka(){W(1)}function oa(){Cb(h,-1);W()}function ta(){Cb(h,1);W()}function Q(){h=new Date;W()}function E(g,q,O){if(g instanceof Date)h=
J(g);else Ub(h,g,q,O);W()}function T(g,q,O){g!==ra&&Cb(h,g);q!==ra&&Db(h,q);O!==ra&&ha(h,O);W()}function d(){return J(h)}function N(){return x}function P(g,q){if(q===ra)return b[g];if(g=="height"||g=="contentHeight"||g=="aspectRatio"){b[g]=q;U()}}function V(g,q){if(b[g])return b[g].apply(q||y,Array.prototype.slice.call(arguments,2))}var ea=this;ea.options=b;ea.render=e;ea.destroy=A;ea.refetchEvents=wa;ea.reportEvents=za;ea.reportEventChange=pa;ea.rerenderEvents=na;ea.changeView=G;ea.select=Aa;ea.unselect=
sa;ea.prev=$;ea.next=ka;ea.prevYear=oa;ea.nextYear=ta;ea.today=Q;ea.gotoDate=E;ea.incrementDate=T;ea.formatDate=function(g,q){return fb(g,q,b)};ea.formatDates=function(g,q,O){return Eb(g,q,O,b)};ea.getDate=d;ea.getView=N;ea.option=P;ea.trigger=V;ec.call(ea,b,l);var Ba=ea.isFetchNeeded,S=ea.fetchEvents;fc.call(ea,b);var y=a[0],n,I,H,da,x,Y={},fa,B,D,f=0,i=0,h=new Date,v=[],o;Ub(h,b.year,b.month,b.date);b.droppable&&t(document).bind("dragstart",function(g,q){var O=g.target,ga=t(O);if(!ga.parents(".fc").length){var X=
b.dropAccept;if(t.isFunction(X)?X.call(O,ga):ga.is(X)){o=O;x.dragStart(o,g,q)}}}).bind("dragstop",function(g,q){if(o){x.dragStop(o,g,q);o=null}})}function dc(a,b){function l(){F=b.theme?"ui":"fc";if(b.header)return U=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(m("left")).append(m("center")).append(m("right")))}function e(){U.remove()}function m(p){var Z=t("<td class='fc-header-"+p+"'/>");(p=b.header[p])&&t.each(p.split(" "),function(la){la>0&&Z.append("<span class='fc-header-space'/>");
var ma;t.each(this.split(","),function(wa,za){if(za=="title"){Z.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ma&&ma.addClass(F+"-corner-right");ma=null}else{var pa;if(a[za])pa=a[za];else if(Xa[za])pa=function(){qa.removeClass(F+"-state-hover");a.changeView(za)};if(pa){wa=b.theme?Fb(b.buttonIcons,za):null;var na=Fb(b.buttonText,za),qa=t("<span class='fc-button fc-button-"+za+" "+F+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(wa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
wa+"'/></span>":na)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(qa){qa.click(function(){qa.hasClass(F+"-state-disabled")||pa()}).mousedown(function(){qa.not("."+F+"-state-active").not("."+F+"-state-disabled").addClass(F+"-state-down")}).mouseup(function(){qa.removeClass(F+"-state-down")}).hover(function(){qa.not("."+F+"-state-active").not("."+F+"-state-disabled").addClass(F+"-state-hover")},function(){qa.removeClass(F+"-state-hover").removeClass(F+"-state-down")}).appendTo(Z);
ma||qa.addClass(F+"-corner-left");ma=qa}}}});ma&&ma.addClass(F+"-corner-right")});return Z}function r(p){U.find("h2").html(p)}function A(p){U.find("span.fc-button-"+p).addClass(F+"-state-active")}function k(p){U.find("span.fc-button-"+p).removeClass(F+"-state-active")}function s(p){U.find("span.fc-button-"+p).addClass(F+"-state-disabled")}function G(p){U.find("span.fc-button-"+p).removeClass(F+"-state-disabled")}var W=this;W.render=l;W.destroy=e;W.updateTitle=r;W.activateButton=A;W.deactivateButton=
k;W.disableButton=s;W.enableButton=G;var U=t([]),F}function ec(a,b){function l(d,N){return!ka||d<ka||N>oa}function e(d,N){ka=d;oa=N;T=[];d=++ta;Q=N=$.length;for(var P=0;P<N;P++)m($[P],d)}function m(d,N){r(d,function(P){if(N==ta){if(P){for(var V=0;V<P.length;V++){P[V].source=d;la(P[V])}T=T.concat(P)}Q--;Q||Aa(T)}})}function r(d,N){var P,V=Ga.sourceFetchers,ea;for(P=0;P<V.length;P++){ea=V[P](d,ka,oa,N);if(ea===true)return;else if(typeof ea=="object"){r(ea,N);return}}if(P=d.events)if(t.isFunction(P)){p();
P(J(ka),J(oa),function(n){N(n);Z()})}else t.isArray(P)?N(P):N();else if(d.url){var Ba=d.success,S=d.error,y=d.complete;P=t.extend({},d.data||{});V=kb(d.startParam,a.startParam);ea=kb(d.endParam,a.endParam);if(V)P[V]=Math.round(+ka/1E3);if(ea)P[ea]=Math.round(+oa/1E3);p();t.ajax(t.extend({},gc,d,{data:P,success:function(n){n=n||[];var I=rb(Ba,this,arguments);if(t.isArray(I))n=I;N(n)},error:function(){rb(S,this,arguments);N()},complete:function(){rb(y,this,arguments);Z()}}))}else N()}function A(d){if(d=
k(d)){Q++;m(d,ta)}}function k(d){if(t.isFunction(d)||t.isArray(d))d={events:d};else if(typeof d=="string")d={url:d};if(typeof d=="object"){ma(d);$.push(d);return d}}function s(d){$=t.grep($,function(N){return!wa(N,d)});T=t.grep(T,function(N){return!wa(N.source,d)});Aa(T)}function G(d){var N,P=T.length,V,ea=qa().defaultEventEnd,Ba=d.start-d._start,S=d.end?d.end-(d._end||ea(d)):0;for(N=0;N<P;N++){V=T[N];if(V._id==d._id&&V!=d){V.start=new Date(+V.start+Ba);V.end=d.end?V.end?new Date(+V.end+S):new Date(+ea(V)+
S):null;V.title=d.title;V.url=d.url;V.allDay=d.allDay;V.className=d.className;V.editable=d.editable;V.color=d.color;V.backgroudColor=d.backgroudColor;V.borderColor=d.borderColor;V.textColor=d.textColor;la(V)}}la(d);Aa(T)}function W(d,N){la(d);if(!d.source){if(N){sa.events.push(d);d.source=sa}T.push(d)}Aa(T)}function U(d){if(d){if(!t.isFunction(d)){var N=d+"";d=function(V){return V._id==N}}T=t.grep(T,d,true);for(P=0;P<$.length;P++)if(t.isArray($[P].events))$[P].events=t.grep($[P].events,d,true)}else{T=
[];for(var P=0;P<$.length;P++)if(t.isArray($[P].events))$[P].events=[]}Aa(T)}function F(d){if(t.isFunction(d))return t.grep(T,d);else if(d){d+="";return t.grep(T,function(N){return N._id==d})}return T}function p(){E++||na("loading",null,true)}function Z(){--E||na("loading",null,false)}function la(d){var N=d.source||{},P=kb(N.ignoreTimezone,a.ignoreTimezone);d._id=d._id||(d.id===ra?"_fc"+hc++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=J(d.start=Gb(d.start,P));d.end=Gb(d.end,
P);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?J(d.end):null;if(d.allDay===ra)d.allDay=kb(N.allDayDefault,a.allDayDefault);if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];d.resourceId&&t.each(a.resources,function(V,ea){if(ea.id===d.resourceId)d.resource=ea})}function ma(d){if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];for(var N=Ga.sourceNormalizers,P=0;P<N.length;P++)N[P](d)}function wa(d,
N){return d&&N&&za(d)==za(N)}function za(d){return(typeof d=="object"?d.events||d.url:"")||d}var pa=this;pa.isFetchNeeded=l;pa.fetchEvents=e;pa.addEventSource=A;pa.removeEventSource=s;pa.updateEvent=G;pa.renderEvent=W;pa.removeEvents=U;pa.clientEvents=F;pa.normalizeEvent=la;var na=pa.trigger,qa=pa.getView,Aa=pa.reportEvents,sa={events:[]},$=[sa],ka,oa,ta=0,Q=0,E=0,T=[];for(pa=0;pa<b.length;pa++)k(b[pa])}function fc(a){function b(k){var s={};if(t.isFunction(k)){s={resources:k};r.push(s)}else if(typeof k==
"string"){s={url:k};r.push(s)}else if(typeof k=="object")for(var G=0;G<k.length;G++){s=k[G];m(s);s={resources:s};r.push(s)}}function l(k){k=typeof k!=="undefined"?k:true;if(!(A!=ra&&k)){A=[];k=r.length;for(var s=0;s<k;s++){var G=e(r[s]);A=A.concat(G)}}return A}function e(k){var s=k.resources;if(s){if(t.isFunction(s))return s()}else(k=k.url)&&t.ajax({url:k,dataType:"json",cache:false,success:function(G){s=G=G||[]},error:function(){alert("ajax error")},async:false});return s}function m(k){if(k.className){if(typeof k.className==
"string")k.className=k.className.split(/\s+/)}else k.className=[];for(var s=Ga.sourceNormalizers,G=0;G<s.length;G++)s[G](k)}this.fetchResources=l;var r=[],A;b(a.resources)}function Cb(a,b,l){a.setFullYear(a.getFullYear()+b);l||Ya(a);return a}function Db(a,b,l){if(+a){b=a.getMonth()+b;var e=J(a);e.setDate(1);e.setMonth(b);a.setMonth(b);for(l||Ya(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function ha(a,b,l){if(+a){b=a.getDate()+b;var e=J(a);e.setHours(9);e.setDate(b);
a.setDate(b);l||Ya(a);Hb(a,e)}return a}function Hb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*ic)}function ua(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ya(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function J(a,b){if(b)return Ya(new Date(+a));return new Date(+a)}function sb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Sa(a,b,l){for(b=b||1;!a.getDay()||l&&a.getDay()==1||!l&&a.getDay()==6;)ha(a,b);
return a}function Ja(a,b){return Math.round((J(a,true)-J(b,true))/Vb)}function Ub(a,b,l,e){if(b!==ra&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(l!==ra&&l!=a.getMonth()){a.setDate(1);a.setMonth(l)}e!==ra&&a.setDate(e)}function Gb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===ra)b=true;return Wb(a,b)||(a?new Date(a):null)}return null}function Wb(a,
b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var l=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){l.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){l.setDate(a[5]);b.setDate(a[5])}Hb(l,b);a[7]&&l.setHours(a[7]);a[8]&&l.setMinutes(a[8]);a[10]&&l.setSeconds(a[10]);a[12]&&l.setMilliseconds(Number("0."+a[12])*1E3);Hb(l,b)}else{l.setUTCFullYear(a[1],a[3]?a[3]-1:0,
a[5]||1);l.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;l=new Date(+l+b*60*1E3)}}return l}function lb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function fb(a,b,l){return Eb(a,null,b,l)}
function Eb(a,b,l,e){e=e||pb;var m=a,r=b,A,k=l.length,s,G,W,U="";for(A=0;A<k;A++){s=l.charAt(A);if(s=="'")for(G=A+1;G<k;G++){if(l.charAt(G)=="'"){if(m){U+=G==A+1?"'":l.substring(A+1,G);A=G}break}}else if(s=="(")for(G=A+1;G<k;G++){if(l.charAt(G)==")"){A=fb(m,l.substring(A+1,G),e);if(parseInt(A.replace(/\D/,""),10))U+=A;A=G;break}}else if(s=="[")for(G=A+1;G<k;G++){if(l.charAt(G)=="]"){s=l.substring(A+1,G);A=fb(m,s,e);if(A!=fb(r,s,e))U+=A;A=G;break}}else if(s=="{"){m=b;r=a}else if(s=="}"){m=a;r=b}else{for(G=
k;G>A;G--)if(W=jc[l.substring(A,G)]){if(m)U+=W(m,e);A=G-1;break}if(G==A)if(m)U+=s}}return U}function Za(a){return a.end?kc(a.end,a.allDay):ha(J(a.start),1)}function kc(a,b){a=J(a);return b||a.getHours()||a.getMinutes()?ha(a,1):Ya(a)}function lc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Xb(a,b){return a.end>b.start&&a.start<b.end}function mb(a,b,l,e){var m=[],r,A=a.length,k,s,G,W,U;for(r=0;r<A;r++){k=a[r];s=k.start;G=b[r];if(G>l&&s<e){if(s<l){s=J(l);W=false}else{s=
s;W=true}if(G>e){G=J(e);U=false}else{G=G;U=true}m.push({event:k,start:s,end:G,isStart:W,isEnd:U,msLength:G-s})}}return m.sort(lc)}function nb(a){var b=[],l,e=a.length,m,r,A,k;for(l=0;l<e;l++){m=a[l];for(r=0;;){A=false;if(b[r])for(k=0;k<b[r].length;k++)if(Xb(b[r][k],m)){A=true;break}if(A)r++;else break}if(b[r])b[r].push(m);else b[r]=[m]}return b}function Ib(a,b,l){a.unbind("mouseover").mouseover(function(e){for(var m=e.target,r;m!=this;){r=m;m=m.parentNode}if((m=r._fci)!==ra){r._fci=ra;r=b[m];l(r.event,
r.element,r);t(e.target).trigger(e)}e.stopPropagation()})}function Ta(a,b,l){for(var e=0,m;e<a.length;e++){m=t(a[e]);m.width(Math.max(0,b-tb(m,l)))}}function ub(a,b,l){for(var e=0,m;e<a.length;e++){m=t(a[e]);m.height(Math.max(0,b-db(m,l)))}}function tb(a,b){return mc(a)+nc(a)+(b?oc(a):0)}function mc(a){return(parseFloat(t.css(a[0],"paddingLeft",true))||0)+(parseFloat(t.css(a[0],"paddingRight",true))||0)}function oc(a){return(parseFloat(t.css(a[0],"marginLeft",true))||0)+(parseFloat(t.css(a[0],"marginRight",
true))||0)}function nc(a){return(parseFloat(t.css(a[0],"borderLeftWidth",true))||0)+(parseFloat(t.css(a[0],"borderRightWidth",true))||0)}function db(a,b){return pc(a)+qc(a)+(b?Yb(a):0)}function pc(a){return(parseFloat(t.css(a[0],"paddingTop",true))||0)+(parseFloat(t.css(a[0],"paddingBottom",true))||0)}function Yb(a){return(parseFloat(t.css(a[0],"marginTop",true))||0)+(parseFloat(t.css(a[0],"marginBottom",true))||0)}function qc(a){return(parseFloat(t.css(a[0],"borderTopWidth",true))||0)+(parseFloat(t.css(a[0],
"borderBottomWidth",true))||0)}function qb(a,b){b=typeof b=="number"?b+"px":b;a.each(function(l,e){e.style.cssText+=";min-height:"+b+";_height:"+b})}function Tb(){}function vb(a,b){return a-b}function Zb(a){return Math.max.apply(Math,a)}function gb(a){return(a<10?"0":"")+a}function Fb(a,b){if(a[b]!==ra)return a[b];b=b.split(/(?=[A-Z])/);for(var l=b.length-1,e;l>=0;l--){e=a[b[l].toLowerCase()];if(e!==ra)return e}return a[""]}function Ua(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Jb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function wb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function hb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function xb(a,b){a.each(function(l,
e){e.className=e.className.replace(/^fc-\w*/,"fc-"+rc[b.getDay()])})}function Kb(a,b){var l=a.source||{},e=a.color,m=l.color,r=b("eventColor"),A=a.backgroundColor||e||l.backgroundColor||m||b("eventBackgroundColor")||r;e=a.borderColor||e||l.borderColor||m||b("eventBorderColor")||r;a=a.textColor||l.textColor||b("eventTextColor");b=[];A&&b.push("background-color:"+A);e&&b.push("border-color:"+e);a&&b.push("color:"+a);return b.join(";")}function rb(a,b,l){if(t.isFunction(a))a=[a];if(a){var e,m;for(e=
0;e<a.length;e++)m=a[e].apply(b,l)||m;return m}}function kb(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==ra)return arguments[a]}function sc(a,b){function l(k,s){if(s){Db(k,s);k.setDate(1)}k=J(k,true);k.setDate(1);s=Db(J(k),1);var G=J(k),W=J(s),U=m("firstDay"),F=m("weekends")?0:1;if(F){Sa(G);Sa(W,-1,true)}ha(G,-((G.getDay()-Math.max(U,F)+7)%7));ha(W,(7-W.getDay()+Math.max(U,F))%7);U=Math.round((W-G)/(Vb*7));if(m("weekMode")=="fixed"){ha(W,(6-U)*7);U=6}e.title=A(k,m("titleFormat"));e.start=
k;e.end=s;e.visStart=G;e.visEnd=W;r(6,U,F?5:7,true)}var e=this;e.render=l;Lb.call(e,a,b,"month");var m=e.opt,r=e.renderBasic,A=b.formatDate}function tc(a,b){function l(k,s){s&&ha(k,s*7);k=ha(J(k),-((k.getDay()-m("firstDay")+7)%7));s=ha(J(k),7);var G=J(k),W=J(s),U=m("weekends");if(!U){Sa(G);Sa(W,-1,true)}e.title=A(G,ha(J(W),-1),m("titleFormat"));e.start=k;e.end=s;e.visStart=G;e.visEnd=W;r(1,1,U?7:5,false)}var e=this;e.render=l;Lb.call(e,a,b,"basicWeek");var m=e.opt,r=e.renderBasic,A=b.formatDates}
function uc(a,b){function l(k,s){if(s){ha(k,s);m("weekends")||Sa(k,s<0?-1:1)}e.title=A(k,m("titleFormat"));e.start=e.visStart=J(k,true);e.end=e.visEnd=ha(J(e.start),1);r(1,1,1,false)}var e=this;e.render=l;Lb.call(e,a,b,"basicDay");var m=e.opt,r=e.renderBasic,A=b.formatDate}function Lb(a,b,l){function e(C,z,K,L){f=z;i=K;m();(z=!n)?r(C,L):N();A(z)}function m(){if(g=T("isRTL")){q=-1;O=i-1}else{q=1;O=0}ga=T("firstDay");X=T("weekends")?0:1;ia=T("theme")?"ui":"fc";aa=T("columnFormat")}function r(C,z){var K,
L=ia+"-widget-header",ba=ia+"-widget-content",ca;K="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ca=0;ca<i;ca++)K+="<th class='fc- "+L+"'/>";K+="</tr></thead><tbody>";for(ca=0;ca<C;ca++){K+="<tr class='fc-week"+ca+"'>";for(L=0;L<i;L++)K+="<td class='fc- "+ba+" fc-day"+(ca*i+L)+"'><div>"+(z?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";K+="</tr>"}K+="</tbody></table>";C=t(K).appendTo(a);
S=C.find("thead");y=S.find("th");n=C.find("tbody");I=n.find("tr");H=n.find("td");da=H.filter(":first-child");x=I.eq(0).find("div.fc-day-content div");hb(S.add(S.find("tr")));hb(I);I.eq(0).addClass("fc-first");G(H);Y=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function A(C){var z=C||f==1,K=E.start.getMonth(),L=Ya(new Date),ba,ca,va;z&&y.each(function(xa,Ca){ba=t(Ca);ca=ka(xa);ba.html(Ba(ca,aa));xb(ba,ca)});H.each(function(xa,Ca){ba=t(Ca);ca=ka(xa);ca.getMonth()==K?ba.removeClass("fc-other-month"):
ba.addClass("fc-other-month");+ca==+L?ba.addClass(ia+"-state-highlight fc-today"):ba.removeClass(ia+"-state-highlight fc-today");ba.find("div.fc-day-number").text(ca.getDate());z&&xb(ba,ca)});I.each(function(xa,Ca){va=t(Ca);if(xa<f){va.show();xa==f-1?va.addClass("fc-last"):va.removeClass("fc-last")}else va.hide()})}function k(C){B=C;C=B-S.height();var z,K,L;if(T("weekMode")=="variable")z=K=Math.floor(C/(f==1?2:6));else{z=Math.floor(C/f);K=C-z*(f-1)}da.each(function(ba,ca){if(ba<f){L=t(ca);qb(L.find("> div"),
(ba==f-1?K:z)-db(L))}})}function s(C){fa=C;o.clear();D=Math.floor(fa/i);Ta(y.slice(0,-1),D)}function G(C){C.click(W).mousedown(ea)}function W(C){if(!T("selectable")){var z=parseInt(this.className.match(/fc\-day(\d+)/)[1]);z=ka(z);d("dayClick",this,z,true,C)}}function U(C,z,K){K&&h.build();K=J(E.visStart);for(var L=ha(J(K),i),ba=0;ba<f;ba++){var ca=new Date(Math.max(K,C)),va=new Date(Math.min(L,z));if(ca<va){var xa;if(g){xa=Ja(va,K)*q+O+1;ca=Ja(ca,K)*q+O+1}else{xa=Ja(ca,K);ca=Ja(va,K)}G(F(ba,xa,ba,
ca-1))}ha(K,7);ha(L,7)}}function F(C,z,K,L){C=h.rect(C,z,K,L,a);return P(C,a)}function p(C){return J(C)}function Z(C,z){U(C,ha(J(z),1),true)}function la(){V()}function ma(C,z,K){var L=Aa(C);d("dayClick",H[L.row*i+L.col],C,z,K)}function wa(C,z){v.start(function(K){V();K&&F(K.row,K.col,K.row,K.col)},z)}function za(C,z,K){var L=v.stop();V();if(L){L=sa(L);d("drop",C,L,true,z,K)}}function pa(C){return J(C.start)}function na(C){return o.left(C)}function qa(C){return o.right(C)}function Aa(C){return{row:Math.floor(Ja(C,
E.visStart)/7),col:oa(C.getDay())}}function sa(C){return $(C.row,C.col)}function $(C,z){return ha(J(E.visStart),C*7+z*q+O)}function ka(C){return $(Math.floor(C/i),C%i)}function oa(C){return(C-Math.max(ga,X)+i)%i*q+O}function ta(C){return I.eq(C)}function Q(){return{left:0,right:fa}}var E=this;E.renderBasic=e;E.setHeight=k;E.setWidth=s;E.renderDayOverlay=U;E.defaultSelectionEnd=p;E.renderSelection=Z;E.clearSelection=la;E.reportDayClick=ma;E.dragStart=wa;E.dragStop=za;E.defaultEventEnd=pa;E.getHoverListener=
function(){return v};E.colContentLeft=na;E.colContentRight=qa;E.dayOfWeekCol=oa;E.dateCell=Aa;E.cellDate=sa;E.cellIsAllDay=function(){return true};E.allDayRow=ta;E.allDayBounds=Q;E.getRowCnt=function(){return f};E.getColCnt=function(){return i};E.getColWidth=function(){return D};E.getDaySegmentContainer=function(){return Y};Mb.call(E,a,b,l);Nb.call(E);Ob.call(E);vc.call(E);var T=E.opt,d=E.trigger,N=E.clearEvents,P=E.renderOverlay,V=E.clearOverlays,ea=E.daySelectionMousedown,Ba=b.formatDate,S,y,n,
I,H,da,x,Y,fa,B,D,f,i,h,v,o,g,q,O,ga,X,ia,aa;wb(a.addClass("fc-grid"));h=new Pb(function(C,z){var K,L,ba;y.each(function(ca,va){K=t(va);L=K.offset().left;if(ca)ba[1]=L;ba=[L];z[ca]=ba});ba[1]=L+K.outerWidth();I.each(function(ca,va){if(ca<f){K=t(va);L=K.offset().top;if(ca)ba[1]=L;ba=[L];C[ca]=ba}});ba[1]=L+K.outerHeight()});v=new Qb(h);o=new Rb(function(C){return x.eq(C)})}function vc(){function a($,ka){W($);Aa(l($),ka)}function b(){U();ma().empty()}function l($){var ka=na(),oa=qa(),ta=J(r.visStart);
oa=ha(J(ta),oa);var Q=t.map($,Za),E,T,d,N,P,V,ea=[];for(E=0;E<ka;E++){T=nb(mb($,Q,ta,oa));for(d=0;d<T.length;d++){N=T[d];for(P=0;P<N.length;P++){V=N[P];V.row=E;V.level=d;ea.push(V)}}ha(ta,7);ha(oa,7)}return ea}function e($,ka,oa){s($)&&m($,ka);oa.isEnd&&G($)&&sa($,ka,oa);F($,ka)}function m($,ka){var oa=wa(),ta;ka.draggable({zIndex:9,delay:50,opacity:A("dragOpacity"),revertDuration:A("dragRevertDuration"),start:function(Q,E){k("eventDragStart",ka,$,Q,E);Z($,ka);oa.start(function(T,d,N,P){ka.draggable("option",
"revert",!T||!N&&!P);pa();if(T){ta=N*7+P*(A("isRTL")?-1:1);za(ha(J($.start),ta),ha(Za($),ta))}else ta=0},Q,"drag")},stop:function(Q,E){oa.stop();pa();k("eventDragStop",ka,$,Q,E);if(ta)la(this,$,ta,0,$.allDay,Q,E);else{ka.css("filter","");p($,ka)}}})}var r=this;r.renderEvents=a;r.compileDaySegs=l;r.clearEvents=b;r.bindDaySeg=e;Sb.call(r);var A=r.opt,k=r.trigger,s=r.isEventDraggable,G=r.isEventResizable,W=r.reportEvents,U=r.reportEventClear,F=r.eventElementHandlers,p=r.showEvents,Z=r.hideEvents,la=
r.eventDrop,ma=r.getDaySegmentContainer,wa=r.getHoverListener,za=r.renderDayOverlay,pa=r.clearOverlays,na=r.getRowCnt,qa=r.getColCnt,Aa=r.renderDaySegs,sa=r.resizableDayEvent}function wc(a,b){function l(k,s){if(s){ha(k,s);m("weekends")||Sa(k,s<0?-1:1)}s=J(k,true);var G=ha(J(s),1);e.title=A(k,m("titleFormat"));e.start=e.visStart=s;e.end=e.visEnd=G;r()}var e=this;e.render=l;xc.call(e,a,b,"resourceDay");var m=e.opt,r=e.renderResource,A=b.formatDate}function xc(a,b,l){function e(){Ha=R.length;m();i?da():
r();A()}function m(){$a=I("theme")?"ui":"fc";yb=I("weekends")?0:1;zb=I("firstDay");if(Qa=I("isRTL")){Ka=-1;Na=Ha-1}else{Ka=1;Na=0}La=lb(I("minTime"));eb=lb(I("maxTime"));u=I("columnFormat")}function r(){var c=$a+"-widget-header",j=$a+"-widget-content",w,M,ja,ya,Da,Ea=I("slotMinutes")%15==0;w="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>";for(M=0;M<Ha;M++)w+="<th class='fc- fc-col"+M+" "+c+"'/>";w+="<th class='fc-agenda-gutter "+
c+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>";for(M=0;M<Ha;M++)w+="<td class='fc- fc-col"+M+" "+j+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";w+="<td class='fc-agenda-gutter "+j+"'>&nbsp;</td></tr></tbody></table>";i=t(w).appendTo(a);h=i.find("thead");v=h.find("th").slice(1,-1);o=i.find("tbody");g=o.find("td").slice(0,-1);q=g.find("div.fc-day-content div");O=g.eq(0);ga=O.find("> div");hb(h.add(h.find("tr")));
hb(o.add(o.find("tr")));va=h.find("th:first");xa=i.find(".fc-agenda-gutter");X=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(I("allDaySlot")){ia=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(X);w="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+c+" fc-agenda-axis'>"+I("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+c+" fc-agenda-gutter'>&nbsp;</th></tr></table>";
aa=t(w).appendTo(X);C=aa.find("tr");F(C.find("td"));va=va.add(aa.find("th:first"));xa=xa.add(aa.find("th.fc-agenda-gutter"));X.append("<div class='fc-agenda-divider "+c+"'><div class='fc-agenda-divider-inner'/></div>")}else ia=t([]);z=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(X);K=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(z);L=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(K);w="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";
ja=sb();ya=ua(J(ja),eb);ua(ja,La);for(M=Oa=0;ja<ya;M++){Da=ja.getMinutes();w+="<tr class='fc-slot"+M+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+c+"'>"+(!Ea||!Da?f(ja,I("axisFormat")):"&nbsp;")+"</th><td class='"+j+"'><div style='position:relative'>&nbsp;</div></td></tr>";ua(ja,I("slotMinutes"));Oa++}w+="</tbody></table>";ba=t(w).appendTo(K);ca=ba.find("div:first");p(ba.find("td"));va=va.add(ba.find("th:first"))}function A(){var c,j,w,M,ja=Ya(new Date);for(c=0;c<Ha;c++){M=Aa(c);j=v.eq(c);
j.html(R[c].name);j.attr("id",R[c].id);w=g.eq(c);+M==+ja?w.addClass($a+"-state-highlight fc-today"):w.removeClass($a+"-state-highlight fc-today");xb(j.add(w),M)}}function k(c,j){if(c===ra)c=Ra;Ra=c;Va={};var w=o.position().top,M=z.position().top;c=Math.min(c-w,ba.height()+M+1);ga.height(c-db(O));X.css("top",w);z.height(c-M-1);ab=ca.height()+1;j&&G()}function s(c){ob=c;bb.clear();Ma=0;Ta(va.width("").each(function(j,w){Ma=Math.max(Ma,t(w).outerWidth())}),Ma);c=z[0].clientWidth;if(Wa=z.width()-c){Ta(xa,
Wa);xa.show().prev().removeClass("fc-last")}else xa.hide().prev().addClass("fc-last");cb=Math.floor((c-Ma)/Ha);Ta(v.slice(0,-1),cb)}function G(){function c(){z.scrollTop(M)}var j=sb(),w=J(j);w.setHours(I("firstHour"));var M=oa(j,w)+1;c();setTimeout(c,0)}function W(){Fa=z.scrollTop()}function U(){z.scrollTop(Fa)}function F(c){c.click(Z).mousedown(V)}function p(c){c.click(Z).mousedown(ea)}function Z(c){if(!I("selectable")){var j=Math.min(Ha-1,Math.floor((c.pageX-i.offset().left-Ma)/cb)),w=Aa(j),M=this.parentNode.className.match(/fc-slot(\d+)/);
if(M){M=parseInt(M[1])*I("slotMinutes");var ja=Math.floor(M/60);w.setHours(ja);w.setMinutes(M%60+La);H("dayClick",g[j],w,false,c)}else H("dayClick",g[j],w,true,c)}}function la(c,j,w,M){w&&Ia.build();c=ka(M);F(ma(0,c,0,c+1-1))}function ma(c,j,w,M){c=Ia.rect(c,j,w,M,X);return x(c,X)}function wa(c,j){for(var w=J(n.visStart),M=ha(J(w),1),ja=0;ja<Ha;ja++){var ya=new Date(Math.max(w,c)),Da=new Date(Math.min(M,j));if(ya<Da){var Ea=ja*Ka+Na;Ea=Ia.rect(0,Ea,0,Ea,K);ya=oa(w,ya);Da=oa(w,Da);Ea.top=ya;Ea.height=
Da-ya;p(x(Ea,K))}ha(w,1);ha(M,1)}}function za(c){return bb.left(c)}function pa(c){return bb.right(c)}function na(c){return{row:Math.floor(Ja(c,n.visStart)/7),col:$(c.getDay())}}function qa(c){var j=Aa(c.col);c=c.row;I("allDaySlot")&&c--;c>=0&&ua(j,La+c*I("slotMinutes"));return j}function Aa(){return J(n.visStart)}function sa(c){return I("allDaySlot")&&!c.row}function $(){return 0}function ka(c){for(var j=0;j<R.length;j++)if(c.id===R[j].id)return j;return-1}function oa(c,j){c=J(c,true);if(j<ua(J(c),
La))return 0;if(j>=ua(J(c),eb))return ba.height();c=I("slotMinutes");j=j.getHours()*60+j.getMinutes()-La;var w=Math.floor(j/c),M=Va[w];if(M===ra)M=Va[w]=ba.find("tr:eq("+w+") td div")[0].offsetTop;return Math.max(0,Math.round(M-1+ab*(j%c/c)))}function ta(){return{left:Ma,right:ob-Wa}}function Q(){return C}function E(c){var j=J(c.start);if(c.allDay)return j;return ua(j,I("defaultEventMinutes"))}function T(c,j){if(j)return J(c);return ua(J(c),I("slotMinutes"))}function d(c,j,w,M){if(w)I("allDaySlot")&&
la(c,ha(J(j),1),true,M);else N(c,j,M)}function N(c,j,w){var M=I("selectHelper");Ia.build();if(M){w=ka(w);if(w>=0&&w<Ha){w=Ia.rect(0,w,0,w,K);var ja=oa(c,c),ya=oa(c,j);if(ya>ja){w.top=ja;w.height=ya-ja;w.left+=2;w.width-=5;if(t.isFunction(M)){if(c=M(c,j)){w.position="absolute";w.zIndex=8;Ca=t(c).css(w).appendTo(K)}}else{w.isStart=true;w.isEnd=true;Ca=t(D({title:"",start:c,end:j,className:["fc-select-helper"],editable:false},w));Ca.css("opacity",I("dragOpacity"))}if(Ca){p(Ca);K.append(Ca);Ta(Ca,w.width,
true);ub(Ca,w.height,true)}}}}else wa(c,j)}function P(){Y();if(Ca){Ca.remove();Ca=null}}function V(c){var j=n.cellDate,w=n.cellIsAllDay,M=n.getHoverListener();if(c.which==1&&I("selectable")){B(c);var ja,ya;M.start(function(Da,Ea){P();if(Da&&w(Da)){ya=R[Da.col];ja=[j(Ea),j(Da)].sort(vb);d(ja[0],ja[1],true,ya)}else ja=null},c);t(document).one("mouseup",function(Da){M.stop();ja&&ya&&fa(ja[0],ja[1],true,Da,ya.id)})}}function ea(c){if(c.which==1&&I("selectable")){B(c);var j,w;Pa.start(function(M,ja){P();
if(M&&M.col==ja.col&&!sa(M)){w=R[M.col];ja=qa(ja);M=qa(M);j=[ja,ua(J(ja),I("slotMinutes")),M,ua(J(M),I("slotMinutes"))].sort(vb);N(j[0],j[3],w)}else j=null},c);t(document).one("mouseup",function(M){Pa.stop();j&&w&&fa(j[0],j[3],false,M,w.id)})}}function Ba(c,j,w){H("dayClick",g[$(c.getDay())],c,j,w)}function S(c,j){Pa.start(function(w){Y();if(w)if(sa(w))ma(w.row,w.col,w.row,w.col);else{w=qa(w);var M=ua(J(w),I("defaultEventMinutes"));wa(w,M)}},j)}function y(c,j,w){var M=Pa.stop();Y();M&&H("drop",c,
qa(M),sa(M),j,w)}var n=this;n.renderResource=e;n.setWidth=s;n.setHeight=k;n.beforeHide=W;n.afterShow=U;n.defaultEventEnd=E;n.timePosition=oa;n.dayOfWeekCol=$;n.dateCell=na;n.cellDate=qa;n.cellIsAllDay=sa;n.allDayRow=Q;n.allDayBounds=ta;n.getHoverListener=function(){return Pa};n.colContentLeft=za;n.colContentRight=pa;n.getDaySegmentContainer=function(){return ia};n.getSlotSegmentContainer=function(){return L};n.getMinMinute=function(){return La};n.getMaxMinute=function(){return eb};n.getBodyContent=
function(){return K};n.getRowCnt=function(){return 1};n.getColCnt=function(){return Ha};n.getColWidth=function(){return cb};n.getSlotHeight=function(){return ab};n.defaultSelectionEnd=T;n.renderDayOverlay=la;n.renderSelection=d;n.clearSelection=P;n.reportDayClick=Ba;n.dragStart=S;n.dragStop=y;n.resourceCol=ka;n.resources=b.fetchResources();Mb.call(n,a,b,l);Nb.call(n);Ob.call(n);yc.call(n);var I=n.opt,H=n.trigger,da=n.clearEvents,x=n.renderOverlay,Y=n.clearOverlays,fa=n.reportSelection,B=n.unselect,
D=n.slotSegHtml,f=b.formatDate,i,h,v,o,g,q,O,ga,X,ia,aa,C,z,K,L,ba,ca,va,xa,Ca,ob,Ra,Ma,cb,Wa,ab,Fa,Ha,Oa,Ia,Pa,bb,Va={},$a,zb,yb,Qa,Ka,Na,La,eb,u,R=n.resources;wb(a.addClass("fc-agenda"));Ia=new Pb(function(c,j){function w(Ab){return Math.max(Ea,Math.min(ib,Ab))}var M,ja,ya;v.each(function(Ab,zc){M=t(zc);ja=M.offset().left;if(Ab)ya[1]=ja;ya=[ja];j[Ab]=ya});ya[1]=ja+M.outerWidth();if(I("allDaySlot")){M=C;ja=M.offset().top;c[0]=[ja,ja+M.outerHeight()]}for(var Da=K.offset().top,Ea=z.offset().top,ib=
Ea+z.outerHeight(),jb=0;jb<Oa;jb++)c.push([w(Da+ab*jb),w(Da+ab*(jb+1))])});Pa=new Qb(Ia);bb=new Rb(function(c){return q.eq(c)})}function yc(){function a(f,i){pa(f);var h,v=f.length,o=[],g=[];for(h=0;h<v;h++)f[h].allDay?o.push(f[h]):g.push(f[h]);if(Z("allDaySlot")){d(l(o),i,D);Aa()}A(e(g),i)}function b(){na();sa().empty();$().empty()}function l(f){f=nb(mb(f,t.map(f,Za),p.visStart,p.visEnd));var i,h=f.length,v,o,g,q=[];for(i=0;i<h;i++){v=f[i];for(o=0;o<v.length;o++){g=v[o];g.row=0;g.level=i;q.push(g)}}return q}
function e(f){var i=P(),h=ta(),v=oa(),o=ua(J(p.visStart),h),g,q,O,ga,X,ia,aa=[];for(g=0;g<i;g++){q=m(D[g],f);q=nb(mb(q,t.map(q,r),o,ua(J(o),v-h)));$b(q);for(O=0;O<q.length;O++){ga=q[O];for(X=0;X<ga.length;X++){ia=ga[X];ia.col=g;ia.level=O;aa.push(ia)}}}return aa}function m(f,i){for(var h=[],v=0;v<i.length;v++)i[v].resourceId===f.id&&h.push(i[v]);return h}function r(f){return f.end?J(f.end):ua(J(f.start),Z("defaultEventMinutes"))}function A(f,i){var h,v=f.length,o,g,q,O,ga,X,ia,aa,C,z="",K,L,ba={},
ca={},va=$(),xa;h=P();if(K=Z("isRTL")){L=-1;xa=h-1}else{L=1;xa=0}for(h=0;h<v;h++){o=f[h];g=o.event;q=Q(o.start,o.start);O=Q(o.start,o.end);ga=o.col;X=o.level;ia=o.forward||0;aa=E(ga*L+xa);C=T(ga*L+xa)-aa;C=Math.min(C-6,C*0.95);ga=X?C/(X+ia+1):ia?(C/(ia+1)-6)*2:C;X=aa+C/(X+ia+1)*X*L+(K?C-ga:0);o.top=q;o.left=X;o.outerWidth=ga;o.outerHeight=O-q;z+=k(g,o)}va[0].innerHTML=z;K=va.children();for(h=0;h<v;h++){o=f[h];g=o.event;z=t(K[h]);L=la("eventRender",g,g,z);if(L===false)z.remove();else{if(L&&L!==true){z.remove();
z=t(L).css({position:"absolute",top:o.top,left:o.left}).appendTo(va)}o.element=z;if(g._id===i)G(g,z,o);else z[0]._fci=h;S(g,z)}}Ib(va,f,G);for(h=0;h<v;h++){o=f[h];if(z=o.element){g=ba[i=o.key=Jb(z[0])];o.vsides=g===ra?(ba[i]=db(z,true)):g;g=ca[i];o.hsides=g===ra?(ca[i]=tb(z,true)):g;i=z.find("div.fc-event-content");if(i.length)o.contentTop=i[0].offsetTop}}for(h=0;h<v;h++){o=f[h];if(z=o.element){z[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px";ba=Math.max(0,o.outerHeight-o.vsides);z[0].style.height=
ba+"px";g=o.event;if(o.contentTop!==ra&&ba-o.contentTop<10){z.find("div.fc-event-time").text(fa(g.start,Z("timeFormat"))+" - "+g.title);z.find("div.fc-event-title").remove()}la("eventAfterRender",g,g,z)}}}function k(f,i){var h="<",v=f.url,o=Kb(f,Z),g=o?" style='"+o+"'":"",q=["fc-event","fc-event-skin","fc-event-vert"];ma(f)&&q.push("fc-event-draggable");i.isStart&&q.push("fc-corner-top");i.isEnd&&q.push("fc-corner-bottom");q=q.concat(f.className);if(f.source)q=q.concat(f.source.className||[]);h+=
v?"a href='"+Ua(f.url)+"'":"div";h+=" class='"+q.join(" ")+"' style='position:absolute;z-index:8;top:"+i.top+"px;left:"+i.left+"px;"+o+"'><div class='fc-event-inner fc-event-skin'"+g+"><div class='fc-event-head fc-event-skin'"+g+"><div class='fc-event-time'>"+Ua(B(f.start,f.end,Z("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ua(f.title)+"</div></div><div class='fc-event-bg'></div></div>";if(i.isEnd&&wa(f))h+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";
h+="</"+(v?"a":"div")+">";return h}function s(f,i,h){ma(f)&&W(f,i,h.isStart);h.isEnd&&wa(f)&&N(f,i,h);qa(f,i)}function G(f,i,h){var v=i.find("div.fc-event-time");ma(f)&&U(f,i,v);h.isEnd&&wa(f)&&F(f,i,v);qa(f,i)}function W(f,i,h){function v(){if(!q){i.width(o).height("").draggable("option","grid",null);q=true}}var o,g,q=true,O,ga=Z("isRTL")?-1:1,X=ka(),ia=V(),aa=ea(),C=ta();i.draggable({zIndex:9,opacity:Z("dragOpacity","month"),revertDuration:Z("dragRevertDuration"),start:function(z,K){la("eventDragStart",
i,f,z,K);n(f,i);o=i.width();X.start(function(L,ba,ca,va){x();if(L){g=false;O=va*ga;if(L.row)if(h){if(q){i.width(ia-10);ub(i,aa*Math.round((f.end?(f.end-f.start)/ac:Z("defaultEventMinutes"))/Z("slotMinutes")));i.draggable("option","grid",[ia,1]);q=false}}else g=true;else{da(ha(J(f.start),O),ha(Za(f),O),true,D[L.col]);v()}g=g||q&&!O}else{v();g=true}i.draggable("option","revert",g)},z,"drag")},stop:function(z,K){var L=X.stop();x();f.resourceId=D[L.col].id;la("eventDragStop",i,f,z,K);if(g){v();i.css("filter",
"");y(f,i)}else{L=0;q||(L=Math.round((i.offset().top-Ba().offset().top)/aa)*Z("slotMinutes")+C-(f.start.getHours()*60+f.start.getMinutes()));O=0;I(this,f,O,L,q,z,K)}}})}function U(f,i,h){function v(L){var ba=ua(J(f.start),L),ca;if(f.end)ca=ua(J(f.end),L);h.text(B(ba,ca,Z("timeFormat")))}function o(){if(q){h.css("display","");i.draggable("option","grid",[z,K]);q=false}}var g,q=false,O,ga,X,ia=Z("isRTL")?-1:1,aa=ka(),C=P(),z=V(),K=ea();i.draggable({zIndex:9,scroll:false,grid:[z,K],axis:C==1?"y":false,
opacity:Z("dragOpacity"),revertDuration:Z("dragRevertDuration"),start:function(L,ba){la("eventDragStart",i,f,L,ba);n(f,i);g=i.position();ga=X=0;aa.start(function(ca,va,xa,Ca){i.draggable("option","revert",!ca);x();if(ca){O=Ca*ia;if(Z("allDaySlot")&&!ca.row){if(!q){q=true;h.hide();i.draggable("option","grid",null)}da(ha(J(f.start),O),ha(Za(f),O),true,D[ca.col])}else o()}},L,"drag")},drag:function(L,ba){ga=Math.round((ba.position.top-g.top)/K)*Z("slotMinutes");if(ga!=X){q||v(ga);X=ga}},stop:function(L,
ba){var ca=aa.stop();x();la("eventDragStop",i,f,L,ba);if(ca&&(O||ga||q)){f.oldResourceId=f.resourceId;f.resourceId=D[ca.col].id;O=0;I(this,f,O,q?0:ga,q,L,ba)}else{o();i.css("filter","");i.css(g);v(0);y(f,i)}}})}function F(f,i,h){var v,o,g=ea();i.resizable({handles:{s:"div.ui-resizable-s"},grid:g,start:function(q,O){v=o=0;n(f,i);i.css("z-index",9);la("eventResizeStart",this,f,q,O)},resize:function(q,O){v=Math.round((Math.max(g,i.height())-O.originalSize.height)/g);if(v!=o){h.text(B(f.start,!v&&!f.end?
null:ua(za(f),Z("slotMinutes")*v),Z("timeFormat")));o=v}},stop:function(q,O){la("eventResizeStop",this,f,q,O);if(v)H(this,f,0,Z("slotMinutes")*v,q,O);else{i.css("z-index",8);y(f,i)}}})}var p=this;p.renderEvents=a;p.compileDaySegs=l;p.clearEvents=b;p.slotSegHtml=k;p.bindDaySeg=s;Sb.call(p);var Z=p.opt,la=p.trigger,ma=p.isEventDraggable,wa=p.isEventResizable,za=p.eventEnd,pa=p.reportEvents,na=p.reportEventClear,qa=p.eventElementHandlers,Aa=p.setHeight,sa=p.getDaySegmentContainer,$=p.getSlotSegmentContainer,
ka=p.getHoverListener,oa=p.getMaxMinute,ta=p.getMinMinute,Q=p.timePosition,E=p.colContentLeft,T=p.colContentRight,d=p.renderDaySegs,N=p.resizableDayEvent,P=p.getColCnt,V=p.getColWidth,ea=p.getSlotHeight,Ba=p.getBodyContent,S=p.reportEventElement,y=p.showEvents,n=p.hideEvents,I=p.eventDrop,H=p.eventResize,da=p.renderDayOverlay,x=p.clearOverlays,Y=p.calendar,fa=Y.formatDate,B=Y.formatDates,D=p.resources}function Ac(a,b){function l(k,s){s&&ha(k,s*7);k=ha(J(k),-((k.getDay()-m("firstDay")+7)%7));s=ha(J(k),
7);var G=J(k),W=J(s),U=m("weekends");if(!U){Sa(G);Sa(W,-1,true)}e.title=A(G,ha(J(W),-1),m("titleFormat"));e.start=k;e.end=s;e.visStart=G;e.visEnd=W;r(U?7:5)}var e=this;e.render=l;bc.call(e,a,b,"agendaWeek");var m=e.opt,r=e.renderAgenda,A=b.formatDates}function Bc(a,b){function l(k,s){if(s){ha(k,s);m("weekends")||Sa(k,s<0?-1:1)}s=J(k,true);var G=ha(J(s),1);e.title=A(k,m("titleFormat"));e.start=e.visStart=s;e.end=e.visEnd=G;r(1)}var e=this;e.render=l;bc.call(e,a,b,"agendaDay");var m=e.opt,r=e.renderAgenda,
A=b.formatDate}function bc(a,b,l){function e(u){Fa=u;m();f?I():r();A()}function m(){Va=y("theme")?"ui":"fc";zb=y("weekends")?0:1;$a=y("firstDay");if(yb=y("isRTL")){Qa=-1;Ka=Fa-1}else{Qa=1;Ka=0}Na=lb(y("minTime"));La=lb(y("maxTime"));eb=y("columnFormat")}function r(){var u=Va+"-widget-header",R=Va+"-widget-content",c,j,w,M,ja,ya=y("slotMinutes")%15==0;c="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+u+"'>&nbsp;</th>";for(j=
0;j<Fa;j++)c+="<th class='fc- fc-col"+j+" "+u+"'/>";c+="<th class='fc-agenda-gutter "+u+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+u+"'>&nbsp;</th>";for(j=0;j<Fa;j++)c+="<td class='fc- fc-col"+j+" "+R+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";c+="<td class='fc-agenda-gutter "+R+"'>&nbsp;</td></tr></tbody></table>";f=t(c).appendTo(a);i=f.find("thead");h=i.find("th").slice(1,-1);v=f.find("tbody");o=v.find("td").slice(0,-1);
g=o.find("div.fc-day-content div");q=o.eq(0);O=q.find("> div");hb(i.add(i.find("tr")));hb(v.add(v.find("tr")));ca=i.find("th:first");va=f.find(".fc-agenda-gutter");ga=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(y("allDaySlot")){X=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ga);c="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+u+" fc-agenda-axis'>"+y("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
u+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ia=t(c).appendTo(ga);aa=ia.find("tr");F(aa.find("td"));ca=ca.add(ia.find("th:first"));va=va.add(ia.find("th.fc-agenda-gutter"));ga.append("<div class='fc-agenda-divider "+u+"'><div class='fc-agenda-divider-inner'/></div>")}else X=t([]);C=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ga);z=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(C);K=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(z);
c="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";w=sb();M=ua(J(w),La);ua(w,Na);for(j=Ha=0;w<M;j++){ja=w.getMinutes();c+="<tr class='fc-slot"+j+" "+(!ja?"":"fc-minor")+"'><th class='fc-agenda-axis "+u+"'>"+(!ya||!ja?D(w,y("axisFormat")):"&nbsp;")+"</th><td class='"+R+"'><div style='position:relative'>&nbsp;</div></td></tr>";ua(w,y("slotMinutes"));Ha++}c+="</tbody></table>";L=t(c).appendTo(z);ba=L.find("div:first");p(L.find("td"));ca=ca.add(L.find("th:first"))}function A(){var u,
R,c,j,w=Ya(new Date);for(u=0;u<Fa;u++){j=Aa(u);R=h.eq(u);R.html(D(j,eb));c=o.eq(u);+j==+w?c.addClass(Va+"-state-highlight fc-today"):c.removeClass(Va+"-state-highlight fc-today");xb(R.add(c),j)}}function k(u,R){if(u===ra)u=ob;ob=u;bb={};var c=v.position().top,j=C.position().top;u=Math.min(u-c,L.height()+j+1);O.height(u-db(q));ga.css("top",c);C.height(u-j-1);Wa=ba.height()+1;R&&G()}function s(u){Ca=u;Pa.clear();Ra=0;Ta(ca.width("").each(function(R,c){Ra=Math.max(Ra,t(c).outerWidth())}),Ra);u=C[0].clientWidth;
if(cb=C.width()-u){Ta(va,cb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");Ma=Math.floor((u-Ra)/Fa);Ta(h.slice(0,-1),Ma)}function G(){function u(){C.scrollTop(j)}var R=sb(),c=J(R);c.setHours(y("firstHour"));var j=ka(R,c)+1;u();setTimeout(u,0)}function W(){ab=C.scrollTop()}function U(){C.scrollTop(ab)}function F(u){u.click(Z).mousedown(fa)}function p(u){u.click(Z).mousedown(P)}function Z(u){if(!y("selectable")){var R=Math.min(Fa-1,Math.floor((u.pageX-f.offset().left-
Ra)/Ma)),c=Aa(R),j=this.parentNode.className.match(/fc-slot(\d+)/);if(j){j=parseInt(j[1])*y("slotMinutes");var w=Math.floor(j/60);c.setHours(w);c.setMinutes(j%60+Na);n("dayClick",o[R],c,false,u)}else n("dayClick",o[R],c,true,u)}}function la(u,R,c){c&&Oa.build();var j=J(S.visStart);if(yb){c=Ja(R,j)*Qa+Ka+1;u=Ja(u,j)*Qa+Ka+1}else{c=Ja(u,j);u=Ja(R,j)}c=Math.max(0,c);u=Math.min(Fa,u);c<u&&F(ma(0,c,0,u-1))}function ma(u,R,c,j){u=Oa.rect(u,R,c,j,ga);return H(u,ga)}function wa(u,R){for(var c=J(S.visStart),
j=ha(J(c),1),w=0;w<Fa;w++){var M=new Date(Math.max(c,u)),ja=new Date(Math.min(j,R));if(M<ja){var ya=w*Qa+Ka;ya=Oa.rect(0,ya,0,ya,z);M=ka(c,M);ja=ka(c,ja);ya.top=M;ya.height=ja-M;p(H(ya,z))}ha(c,1);ha(j,1)}}function za(u){return Pa.left(u)}function pa(u){return Pa.right(u)}function na(u){return{row:Math.floor(Ja(u,S.visStart)/7),col:$(u.getDay())}}function qa(u){var R=Aa(u.col);u=u.row;y("allDaySlot")&&u--;u>=0&&ua(R,Na+u*y("slotMinutes"));return R}function Aa(u){return ha(J(S.visStart),u*Qa+Ka)}function sa(u){return y("allDaySlot")&&
!u.row}function $(u){return(u-Math.max($a,zb)+Fa)%Fa*Qa+Ka}function ka(u,R){u=J(u,true);if(R<ua(J(u),Na))return 0;if(R>=ua(J(u),La))return L.height();u=y("slotMinutes");R=R.getHours()*60+R.getMinutes()-Na;var c=Math.floor(R/u),j=bb[c];if(j===ra)j=bb[c]=L.find("tr:eq("+c+") td div")[0].offsetTop;return Math.max(0,Math.round(j-1+Wa*(R%u/u)))}function oa(){return{left:Ra,right:Ca-cb}}function ta(){return aa}function Q(u){var R=J(u.start);if(u.allDay)return R;return ua(R,y("defaultEventMinutes"))}function E(u,
R){if(R)return J(u);return ua(J(u),y("slotMinutes"))}function T(u,R,c){if(c)y("allDaySlot")&&la(u,ha(J(R),1),true);else d(u,R)}function d(u,R){var c=y("selectHelper");Oa.build();if(c){var j=Ja(u,S.visStart)*Qa+Ka;if(j>=0&&j<Fa){j=Oa.rect(0,j,0,j,z);var w=ka(u,u),M=ka(u,R);if(M>w){j.top=w;j.height=M-w;j.left+=2;j.width-=5;if(t.isFunction(c)){if(u=c(u,R)){j.position="absolute";j.zIndex=8;xa=t(u).css(j).appendTo(z)}}else{j.isStart=true;j.isEnd=true;xa=t(B({title:"",start:u,end:R,className:["fc-select-helper"],
editable:false},j));xa.css("opacity",y("dragOpacity"))}if(xa){p(xa);z.append(xa);Ta(xa,j.width,true);ub(xa,j.height,true)}}}}else wa(u,R)}function N(){da();if(xa){xa.remove();xa=null}}function P(u){if(u.which==1&&y("selectable")){Y(u);var R;Ia.start(function(c,j){N();if(c&&c.col==j.col&&!sa(c)){j=qa(j);c=qa(c);R=[j,ua(J(j),y("slotMinutes")),c,ua(J(c),y("slotMinutes"))].sort(vb);d(R[0],R[3])}else R=null},u);t(document).one("mouseup",function(c){Ia.stop();if(R){+R[0]==+R[1]&&V(R[0],false,c);x(R[0],
R[3],false,c)}})}}function V(u,R,c){n("dayClick",o[$(u.getDay())],u,R,c)}function ea(u,R){Ia.start(function(c){da();if(c)if(sa(c))ma(c.row,c.col,c.row,c.col);else{c=qa(c);var j=ua(J(c),y("defaultEventMinutes"));wa(c,j)}},R)}function Ba(u,R,c){var j=Ia.stop();da();j&&n("drop",u,qa(j),sa(j),R,c)}var S=this;S.renderAgenda=e;S.setWidth=s;S.setHeight=k;S.beforeHide=W;S.afterShow=U;S.defaultEventEnd=Q;S.timePosition=ka;S.dayOfWeekCol=$;S.dateCell=na;S.cellDate=qa;S.cellIsAllDay=sa;S.allDayRow=ta;S.allDayBounds=
oa;S.getHoverListener=function(){return Ia};S.colContentLeft=za;S.colContentRight=pa;S.getDaySegmentContainer=function(){return X};S.getSlotSegmentContainer=function(){return K};S.getMinMinute=function(){return Na};S.getMaxMinute=function(){return La};S.getBodyContent=function(){return z};S.getRowCnt=function(){return 1};S.getColCnt=function(){return Fa};S.getColWidth=function(){return Ma};S.getSlotHeight=function(){return Wa};S.defaultSelectionEnd=E;S.renderDayOverlay=la;S.renderSelection=T;S.clearSelection=
N;S.reportDayClick=V;S.dragStart=ea;S.dragStop=Ba;Mb.call(S,a,b,l);Nb.call(S);Ob.call(S);Cc.call(S);var y=S.opt,n=S.trigger,I=S.clearEvents,H=S.renderOverlay,da=S.clearOverlays,x=S.reportSelection,Y=S.unselect,fa=S.daySelectionMousedown,B=S.slotSegHtml,D=b.formatDate,f,i,h,v,o,g,q,O,ga,X,ia,aa,C,z,K,L,ba,ca,va,xa,Ca,ob,Ra,Ma,cb,Wa,ab,Fa,Ha,Oa,Ia,Pa,bb={},Va,$a,zb,yb,Qa,Ka,Na,La,eb;wb(a.addClass("fc-agenda"));Oa=new Pb(function(u,R){function c(ib){return Math.max(ya,Math.min(Da,ib))}var j,w,M;h.each(function(ib,
jb){j=t(jb);w=j.offset().left;if(ib)M[1]=w;M=[w];R[ib]=M});M[1]=w+j.outerWidth();if(y("allDaySlot")){j=aa;w=j.offset().top;u[0]=[w,w+j.outerHeight()]}for(var ja=z.offset().top,ya=C.offset().top,Da=ya+C.outerHeight(),Ea=0;Ea<Ha;Ea++)u.push([c(ja+Wa*Ea),c(ja+Wa*(Ea+1))])});Ia=new Qb(Oa);Pa=new Rb(function(u){return g.eq(u)})}function Cc(){function a(B,D){za(B);var f,i=B.length,h=[],v=[];for(f=0;f<i;f++)B[f].allDay?h.push(B[f]):v.push(B[f]);if(p("allDaySlot")){T(l(h),D);qa()}r(e(v),D)}function b(){pa();
Aa().empty();sa().empty()}function l(B){B=nb(mb(B,t.map(B,Za),F.visStart,F.visEnd));var D,f=B.length,i,h,v,o=[];for(D=0;D<f;D++){i=B[D];for(h=0;h<i.length;h++){v=i[h];v.row=0;v.level=D;o.push(v)}}return o}function e(B){var D=N(),f=oa(),i=ka(),h=ua(J(F.visStart),f),v=t.map(B,m),o,g,q,O,ga,X,ia=[];for(o=0;o<D;o++){g=nb(mb(B,v,h,ua(J(h),i-f)));$b(g);for(q=0;q<g.length;q++){O=g[q];for(ga=0;ga<O.length;ga++){X=O[ga];X.col=o;X.level=q;ia.push(X)}}ha(h,1,true)}return ia}function m(B){return B.end?J(B.end):
ua(J(B.start),p("defaultEventMinutes"))}function r(B,D){var f,i=B.length,h,v,o,g,q,O,ga,X,ia,aa="",C,z,K={},L={},ba=sa(),ca;f=N();if(C=p("isRTL")){z=-1;ca=f-1}else{z=1;ca=0}for(f=0;f<i;f++){h=B[f];v=h.event;o=ta(h.start,h.start);g=ta(h.start,h.end);q=h.col;O=h.level;ga=h.forward||0;X=Q(q*z+ca);ia=E(q*z+ca)-X;ia=Math.min(ia-6,ia*0.95);q=O?ia/(O+ga+1):ga?(ia/(ga+1)-6)*2:ia;O=X+ia/(O+ga+1)*O*z+(C?ia-q:0);h.top=o;h.left=O;h.outerWidth=q;h.outerHeight=g-o;aa+=A(v,h)}ba[0].innerHTML=aa;C=ba.children();
for(f=0;f<i;f++){h=B[f];v=h.event;aa=t(C[f]);z=Z("eventRender",v,v,aa);if(z===false)aa.remove();else{if(z&&z!==true){aa.remove();aa=t(z).css({position:"absolute",top:h.top,left:h.left}).appendTo(ba)}h.element=aa;if(v._id===D)s(v,aa,h);else aa[0]._fci=f;Ba(v,aa)}}Ib(ba,B,s);for(f=0;f<i;f++){h=B[f];if(aa=h.element){v=K[D=h.key=Jb(aa[0])];h.vsides=v===ra?(K[D]=db(aa,true)):v;v=L[D];h.hsides=v===ra?(L[D]=tb(aa,true)):v;D=aa.find("div.fc-event-content");if(D.length)h.contentTop=D[0].offsetTop}}for(f=0;f<
i;f++){h=B[f];if(aa=h.element){aa[0].style.width=Math.max(0,h.outerWidth-h.hsides)+"px";K=Math.max(0,h.outerHeight-h.vsides);aa[0].style.height=K+"px";v=h.event;if(h.contentTop!==ra&&K-h.contentTop<10){aa.find("div.fc-event-time").text(Y(v.start,p("timeFormat"))+" - "+v.title);aa.find("div.fc-event-title").remove()}Z("eventAfterRender",v,v,aa)}}}function A(B,D){var f="<",i=B.url,h=Kb(B,p),v=h?" style='"+h+"'":"",o=["fc-event","fc-event-skin","fc-event-vert"];la(B)&&o.push("fc-event-draggable");D.isStart&&
o.push("fc-corner-top");D.isEnd&&o.push("fc-corner-bottom");o=o.concat(B.className);if(B.source)o=o.concat(B.source.className||[]);f+=i?"a href='"+Ua(B.url)+"'":"div";f+=" class='"+o.join(" ")+"' style='position:absolute;z-index:8;top:"+D.top+"px;left:"+D.left+"px;"+h+"'><div class='fc-event-inner fc-event-skin'"+v+"><div class='fc-event-head fc-event-skin'"+v+"><div class='fc-event-time'>"+Ua(fa(B.start,B.end,p("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
Ua(B.title)+"</div></div><div class='fc-event-bg'></div></div>";if(D.isEnd&&ma(B))f+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";f+="</"+(i?"a":"div")+">";return f}function k(B,D,f){la(B)&&G(B,D,f.isStart);f.isEnd&&ma(B)&&d(B,D,f);na(B,D)}function s(B,D,f){var i=D.find("div.fc-event-time");la(B)&&W(B,D,i);f.isEnd&&ma(B)&&U(B,D,i);na(B,D)}function G(B,D,f){function i(){if(!o){D.width(h).height("").draggable("option","grid",null);o=true}}var h,v,o=true,g,q=p("isRTL")?-1:1,O=$(),ga=P(),
X=V(),ia=oa();D.draggable({zIndex:9,opacity:p("dragOpacity","month"),revertDuration:p("dragRevertDuration"),start:function(aa,C){Z("eventDragStart",D,B,aa,C);y(B,D);h=D.width();O.start(function(z,K,L,ba){da();if(z){v=false;g=ba*q;if(z.row)if(f){if(o){D.width(ga-10);ub(D,X*Math.round((B.end?(B.end-B.start)/ac:p("defaultEventMinutes"))/p("slotMinutes")));D.draggable("option","grid",[ga,1]);o=false}}else v=true;else{H(ha(J(B.start),g),ha(Za(B),g));i()}v=v||o&&!g}else{i();v=true}D.draggable("option",
"revert",v)},aa,"drag")},stop:function(aa,C){O.stop();da();Z("eventDragStop",D,B,aa,C);if(v){i();D.css("filter","");S(B,D)}else{var z=0;o||(z=Math.round((D.offset().top-ea().offset().top)/X)*p("slotMinutes")+ia-(B.start.getHours()*60+B.start.getMinutes()));n(this,B,g,z,o,aa,C)}}})}function W(B,D,f){function i(z){var K=ua(J(B.start),z),L;if(B.end)L=ua(J(B.end),z);f.text(fa(K,L,p("timeFormat")))}function h(){if(o){f.css("display","");D.draggable("option","grid",[aa,C]);o=false}}var v,o=false,g,q,O,
ga=p("isRTL")?-1:1,X=$(),ia=N(),aa=P(),C=V();D.draggable({zIndex:9,scroll:false,grid:[aa,C],axis:ia==1?"y":false,opacity:p("dragOpacity"),revertDuration:p("dragRevertDuration"),start:function(z,K){Z("eventDragStart",D,B,z,K);y(B,D);v=D.position();q=O=0;X.start(function(L,ba,ca,va){D.draggable("option","revert",!L);da();if(L){g=va*ga;if(p("allDaySlot")&&!L.row){if(!o){o=true;f.hide();D.draggable("option","grid",null)}H(ha(J(B.start),g),ha(Za(B),g))}else h()}},z,"drag")},drag:function(z,K){q=Math.round((K.position.top-
v.top)/C)*p("slotMinutes");if(q!=O){o||i(q);O=q}},stop:function(z,K){var L=X.stop();da();Z("eventDragStop",D,B,z,K);if(L&&(g||q||o))n(this,B,g,o?0:q,o,z,K);else{h();D.css("filter","");D.css(v);i(0);S(B,D)}}})}function U(B,D,f){var i,h,v=V();D.resizable({handles:{s:"div.ui-resizable-s"},grid:v,start:function(o,g){i=h=0;y(B,D);D.css("z-index",9);Z("eventResizeStart",this,B,o,g)},resize:function(o,g){i=Math.round((Math.max(v,D.height())-g.originalSize.height)/v);if(i!=h){f.text(fa(B.start,!i&&!B.end?
null:ua(wa(B),p("slotMinutes")*i),p("timeFormat")));h=i}},stop:function(o,g){Z("eventResizeStop",this,B,o,g);if(i)I(this,B,0,p("slotMinutes")*i,o,g);else{D.css("z-index",8);S(B,D)}}})}var F=this;F.renderEvents=a;F.compileDaySegs=l;F.clearEvents=b;F.slotSegHtml=A;F.bindDaySeg=k;Sb.call(F);var p=F.opt,Z=F.trigger,la=F.isEventDraggable,ma=F.isEventResizable,wa=F.eventEnd,za=F.reportEvents,pa=F.reportEventClear,na=F.eventElementHandlers,qa=F.setHeight,Aa=F.getDaySegmentContainer,sa=F.getSlotSegmentContainer,
$=F.getHoverListener,ka=F.getMaxMinute,oa=F.getMinMinute,ta=F.timePosition,Q=F.colContentLeft,E=F.colContentRight,T=F.renderDaySegs,d=F.resizableDayEvent,N=F.getColCnt,P=F.getColWidth,V=F.getSlotHeight,ea=F.getBodyContent,Ba=F.reportEventElement,S=F.showEvents,y=F.hideEvents,n=F.eventDrop,I=F.eventResize,H=F.renderDayOverlay,da=F.clearOverlays,x=F.calendar,Y=x.formatDate,fa=x.formatDates}function $b(a){var b,l,e,m,r,A;for(b=a.length-1;b>0;b--){m=a[b];for(l=0;l<m.length;l++){r=m[l];for(e=0;e<a[b-1].length;e++){A=
a[b-1][e];if(Xb(r,A))A.forward=Math.max(A.forward||0,(r.forward||0)+1)}}}}function Mb(a,b,l){function e(Q,E){Q=ta[Q];if(typeof Q=="object")return Fb(Q,E||l);return Q}function m(Q,E){return b.trigger.apply(b,[Q,E||na].concat(Array.prototype.slice.call(arguments,2),[na]))}function r(Q){return k(Q)&&!e("disableDragging")}function A(Q){return k(Q)&&!e("disableResizing")}function k(Q){return kb(Q.editable,(Q.source||{}).editable,e("editable"))}function s(Q){$={};var E,T=Q.length,d;for(E=0;E<T;E++){d=Q[E];
if($[d._id])$[d._id].push(d);else $[d._id]=[d]}}function G(Q){return Q.end?J(Q.end):qa(Q)}function W(Q,E){ka.push(E);if(oa[Q._id])oa[Q._id].push(E);else oa[Q._id]=[E]}function U(){ka=[];oa={}}function F(Q,E){E.click(function(T){if(!E.hasClass("ui-draggable-dragging")&&!E.hasClass("ui-resizable-resizing"))return m("eventClick",this,Q,T)}).hover(function(T){m("eventMouseover",this,Q,T)},function(T){m("eventMouseout",this,Q,T)})}function p(Q,E){la(Q,E,"show")}function Z(Q,E){la(Q,E,"hide")}function la(Q,
E,T){Q=oa[Q._id];var d,N=Q.length;for(d=0;d<N;d++)if(!E||Q[d][0]!=E[0])Q[d][T]()}function ma(Q,E,T,d,N,P,V){var ea=E.allDay,Ba=E._id;za($[Ba],T,d,N);m("eventDrop",Q,E,T,d,N,function(){za($[Ba],-T,-d,ea);sa(Ba)},P,V);sa(Ba)}function wa(Q,E,T,d,N,P){var V=E._id;pa($[V],T,d);m("eventResize",Q,E,T,d,function(){pa($[V],-T,-d);sa(V)},N,P);sa(V)}function za(Q,E,T,d){T=T||0;for(var N,P=Q.length,V=0;V<P;V++){N=Q[V];if(d!==ra)N.allDay=d;ua(ha(N.start,E,true),T);if(N.end)N.end=ua(ha(N.end,E,true),T);Aa(N,ta)}}
function pa(Q,E,T){T=T||0;for(var d,N=Q.length,P=0;P<N;P++){d=Q[P];d.end=ua(ha(G(d),E,true),T);Aa(d,ta)}}var na=this;na.element=a;na.calendar=b;na.name=l;na.opt=e;na.trigger=m;na.isEventDraggable=r;na.isEventResizable=A;na.reportEvents=s;na.eventEnd=G;na.reportEventElement=W;na.reportEventClear=U;na.eventElementHandlers=F;na.showEvents=p;na.hideEvents=Z;na.eventDrop=ma;na.eventResize=wa;var qa=na.defaultEventEnd,Aa=b.normalizeEvent,sa=b.reportEventChange,$={},ka=[],oa={},ta=b.options}function Sb(){function a(y,
n,I){var H=N(),da=sa(),x=$(),Y=0,fa,B=y.length,D,f;H[0].innerHTML=l(y,I);e(y,H.children());m(y);r(y,H,n);A(y);k(y);s(y);n=G();for(I=0;I<da;I++){H=[];for(fa=0;fa<x;fa++)H[fa]=0;for(;Y<B&&(D=y[Y]).row==I;){fa=Zb(H.slice(D.startCol,D.endCol));D.top=fa;fa+=D.outerHeight;for(f=D.startCol;f<D.endCol;f++)H[f]=fa;Y++}n[I].height(Zb(H))}U(y,W(n))}function b(y,n,I){var H=t("<div/>"),da=N(),x=y.length,Y;H[0].innerHTML=l(y);H=H.children();da.append(H);e(y,H);A(y);k(y);s(y);U(y,W(G()));H=[];for(da=0;da<x;da++)if(Y=
y[da].element){y[da].row===n&&Y.css("top",I);H.push(Y[0])}return t(H)}function l(y,n){var I=Z("isRTL"),H,da=y.length,x,Y,fa,B;H=oa();var D=H.left,f=H.right,i,h,v,o,g,q="";for(H=0;H<da;H++){x=y[H];Y=x.event;B=["fc-event","fc-event-skin","fc-event-hori"];ma(Y)&&B.push("fc-event-draggable");if(I){x.isStart&&B.push("fc-corner-right");x.isEnd&&B.push("fc-corner-left");if(n)for(fa=0;fa<n.length;fa++){if(n[fa].id===x.event.resourceId){h=i=fa;v=ta(i);o=Q(h)}}else{i=E(x.end.getDay()-1);h=E(x.start.getDay());
v=x.isEnd?ta(i):D;o=x.isStart?Q(h):f}}else{x.isStart&&B.push("fc-corner-left");x.isEnd&&B.push("fc-corner-right");if(n)for(fa=0;fa<n.length;fa++){if(n[fa].id===x.event.resourceId){h=i=fa;v=ta(i);o=Q(h)}}else{i=E(x.start.getDay());h=E(x.end.getDay()-1);v=x.isStart?ta(i):D;o=x.isEnd?Q(h):f}}B=B.concat(Y.className);if(Y.source)B=B.concat(Y.source.className||[]);fa=Y.url;g=Kb(Y,Z);q+=fa?"<a href='"+Ua(fa)+"'":"<div";q+=" class='"+B.join(" ")+"' style='position:absolute;z-index:8;left:"+v+"px;"+g+"'><div class='fc-event-inner fc-event-skin'"+
(g?" style='"+g+"'":"")+">";if(!Y.allDay&&x.isStart)q+="<span class='fc-event-time'>"+Ua(V(Y.start,Y.end,Z("timeFormat")))+"</span>";q+="<span class='fc-event-title'>"+Ua(Y.title)+"</span></div>";if(x.isEnd&&wa(Y))q+="<div class='ui-resizable-handle ui-resizable-"+(I?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";q+="</"+(fa?"a":"div")+">";x.left=v;x.outerWidth=o-v;x.startCol=i;x.endCol=h+1}return q}function e(y,n){var I,H=y.length,da,x,Y;for(I=0;I<H;I++){da=y[I];x=da.event;Y=t(n[I]);x=la("eventRender",x,
x,Y);if(x===false)Y.remove();else{if(x&&x!==true){x=t(x).css({position:"absolute",left:da.left});Y.replaceWith(x);Y=x}da.element=Y}}}function m(y){var n,I=y.length,H,da;for(n=0;n<I;n++){H=y[n];(da=H.element)&&pa(H.event,da)}}function r(y,n,I){var H,da=y.length,x,Y,fa;for(H=0;H<da;H++){x=y[H];if(Y=x.element){fa=x.event;if(fa._id===I)P(fa,Y,x);else Y[0]._fci=H}}Ib(n,y,P)}function A(y){var n,I=y.length,H,da,x,Y,fa={};for(n=0;n<I;n++){H=y[n];if(da=H.element){x=H.key=Jb(da[0]);Y=fa[x];if(Y===ra)Y=fa[x]=
tb(da,true);H.hsides=Y}}}function k(y){var n,I=y.length,H,da;for(n=0;n<I;n++){H=y[n];if(da=H.element)da[0].style.width=Math.max(0,H.outerWidth-H.hsides)+"px"}}function s(y){var n,I=y.length,H,da,x,Y,fa={};for(n=0;n<I;n++){H=y[n];if(da=H.element){x=H.key;Y=fa[x];if(Y===ra)Y=fa[x]=Yb(da);H.outerHeight=da[0].offsetHeight+Y}}}function G(){var y,n=sa(),I=[];for(y=0;y<n;y++)I[y]=ka(y).find("td:first div.fc-day-content > div");return I}function W(y){var n,I=y.length,H=[];for(n=0;n<I;n++)H[n]=y[n][0].offsetTop;
return H}function U(y,n){var I,H=y.length,da,x;for(I=0;I<H;I++){da=y[I];if(x=da.element){x[0].style.top=n[da.row]+(da.top||0)+"px";da=da.event;la("eventAfterRender",da,da,x)}}}function F(y,n,I){var H=Z("isRTL"),da=H?"w":"e",x=n.find("div.ui-resizable-"+da),Y=false;wb(n);n.mousedown(function(fa){fa.preventDefault()}).click(function(fa){if(Y){fa.preventDefault();fa.stopImmediatePropagation()}});x.mousedown(function(fa){function B(X){la("eventResizeStop",this,y,X);t("body").css("cursor","");D.stop();
Ba();g&&Aa(this,y,g,0,X);setTimeout(function(){Y=false},0)}if(fa.which==1){Y=true;var D=p.getHoverListener(),f=sa(),i=$(),h=H?-1:1,v=H?i-1:0,o=n.css("top"),g,q,O=t.extend({},y),ga=T(y.start);S();t("body").css("cursor",da+"-resize").one("mouseup",B);la("eventResizeStart",this,y,fa);D.start(function(X,ia){if(X){var aa=Math.max(ga.row,X.row);X=X.col;if(f==1)aa=0;if(aa==ga.row)X=H?Math.min(ga.col,X):Math.max(ga.col,X);g=aa*7+X*h+v-(ia.row*7+ia.col*h+v);ia=ha(za(y),g,true);if(g){O.end=ia;aa=q;q=b(d([O]),
I.row,o);q.find("*").css("cursor",da+"-resize");aa&&aa.remove();qa(y)}else if(q){na(y);q.remove();q=null}Ba();ea(y.start,ha(J(ia),1))}},fa)}})}var p=this;p.renderDaySegs=a;p.resizableDayEvent=F;var Z=p.opt,la=p.trigger,ma=p.isEventDraggable,wa=p.isEventResizable,za=p.eventEnd,pa=p.reportEventElement,na=p.showEvents,qa=p.hideEvents,Aa=p.eventResize,sa=p.getRowCnt,$=p.getColCnt,ka=p.allDayRow,oa=p.allDayBounds,ta=p.colContentLeft,Q=p.colContentRight,E=p.dayOfWeekCol,T=p.dateCell,d=p.compileDaySegs,
N=p.getDaySegmentContainer,P=p.bindDaySeg,V=p.calendar.formatDates,ea=p.renderDayOverlay,Ba=p.clearOverlays,S=p.clearSelection}function Ob(){function a(U,F,p){b();F||(F=k(U,p));s(U,F,p);l(U,F,p)}function b(U){if(W){W=false;G();A("unselect",null,U)}}function l(U,F,p,Z,la){W=true;A("select",null,U,F,p,Z,la)}function e(U){var F=m.cellDate,p=m.cellIsAllDay,Z=m.getHoverListener(),la=m.reportDayClick;if(U.which==1&&r("selectable")){b(U);var ma;Z.start(function(wa,za){G();if(wa&&p(wa)){ma=[F(za),F(wa)].sort(vb);
s(ma[0],ma[1],true)}else ma=null},U);t(document).one("mouseup",function(wa){Z.stop();if(ma){+ma[0]==+ma[1]&&la(ma[0],true,wa);l(ma[0],ma[1],true,wa)}})}}var m=this;m.select=a;m.unselect=b;m.reportSelection=l;m.daySelectionMousedown=e;var r=m.opt,A=m.trigger,k=m.defaultSelectionEnd,s=m.renderSelection,G=m.clearSelection,W=false;r("selectable")&&r("unselectAuto")&&t(document).mousedown(function(U){var F=r("unselectCancel");if(F)if(t(U.target).parents(F).length)return;b(U)})}function Nb(){function a(r,
A){var k=m.shift();k||(k=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));k[0].parentNode!=A[0]&&k.appendTo(A);e.push(k.css(r).show());return k}function b(){for(var r;r=e.shift();)m.push(r.hide().unbind())}var l=this;l.renderOverlay=a;l.clearOverlays=b;var e=[],m=[]}function Pb(a){var b=this,l,e;b.build=function(){l=[];e=[];a(l,e)};b.cell=function(m,r){var A=l.length,k=e.length,s,G=-1,W=-1;for(s=0;s<A;s++)if(r>=l[s][0]&&r<l[s][1]){G=s;break}for(s=0;s<k;s++)if(m>=e[s][0]&&m<
e[s][1]){W=s;break}return G>=0&&W>=0?{row:G,col:W}:null};b.rect=function(m,r,A,k,s){s=s.offset();return{top:l[m][0]-s.top,left:e[r][0]-s.left,width:e[k][1]-e[r][0],height:l[A][1]-l[m][0]}}}function Qb(a){function b(k){Dc(k);k=a.cell(k.pageX,k.pageY);if(!k!=!A||k&&(k.row!=A.row||k.col!=A.col)){if(k){r||(r=k);m(k,r,k.row-r.row,k.col-r.col)}else m(k,r);A=k}}var l=this,e,m,r,A;l.start=function(k,s,G){m=k;r=A=null;a.build();b(s);e=G||"mousemove";t(document).bind(e,b)};l.stop=function(){t(document).unbind(e,
b);return A}}function Dc(a){if(a.pageX===ra){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Rb(a){function b(A){return e[A]=e[A]||a(A)}var l=this,e={},m={},r={};l.left=function(A){return m[A]=m[A]===ra?b(A).position().left:m[A]};l.right=function(A){return r[A]=r[A]===ra?l.left(A)+b(A).width():r[A]};l.clear=function(){e={};m={};r={}}}var pb={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,
lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday",
"Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",resourceDay:"resource"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Ec={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",
next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ga=t.fullCalendar={version:"1.5.4"},Xa=Ga.views={};t.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),l;this.each(function(){var m=t.data(this,"fullCalendar");if(m&&t.isFunction(m[a])){m=m[a].apply(m,b);if(l===ra)l=m;a=="destroy"&&t.removeData(this,"fullCalendar")}});if(l!==ra)return l;return this}var e=
a.eventSources||[];delete a.eventSources;if(a.events){e.push(a.events);delete a.events}a=t.extend(true,{},pb,a.isRTL||a.isRTL===ra&&pb.isRTL?Ec:{},a);this.each(function(m,r){m=t(r);r=new cc(m,a,e);m.data("fullCalendar",r);r.render()});return this};Ga.sourceNormalizers=[];Ga.sourceFetchers=[];var gc={dataType:"json",cache:false},hc=1;Ga.addDays=ha;Ga.cloneDate=J;Ga.parseDate=Gb;Ga.parseISO8601=Wb;Ga.parseTime=lb;Ga.formatDate=fb;Ga.formatDates=Eb;var rc=["sun","mon","tue","wed","thu","fri","sat"],
Vb=864E5,ic=36E5,ac=6E4,jc={s:function(a){return a.getSeconds()},ss:function(a){return gb(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return gb(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return gb(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return gb(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return gb(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},
M:function(a){return a.getMonth()+1},MM:function(a){return gb(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return fb(a,
"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Ga.applyAll=rb;Xa.month=sc;Xa.basicWeek=tc;Xa.basicDay=uc;Bb({weekMode:"fixed"});Xa.resourceDay=wc;Bb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Xa.agendaWeek=Ac;Xa.agendaDay=Bc;Bb({allDaySlot:true,allDayText:"all-day",firstHour:6,
slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
